<!--
 
Copyright 2008 University of Oxford 
 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at
 
   http://www.apache.org/licenses/LICENSE-2.0
 
 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 
-->

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>Simal Project and Community Registry Framework</title>

<script type="text/javascript">
  // TODO: This is gross, it needs to use the config just like the gadget js does
  var socialDataPath = document.location.protocol + "//" + document.location.host
      + "/social/data";

  // TODO: need to allow users to log into the system.
  var ownerId = 15;
  var viewerId = 15;
    
  function generateSecureToken(gadgetURL, appId) {
    var fields = [ownerId, viewerId, appId, "simal.oss-watch.ac.uk", gadgetURL, "0"];
    for (var i=0; i < fields.length; i++) {
      // escape each field individually, for metachars in URL
      fields[i] = escape(fields[i]);
    }
    return fields.join(":");
  }
</script>

</head>
<body onLoad="initGadgets(); renderGadgets();">
<div id="header">
  <h1>Simal Project and Community Registry Framework</h1>
  <a href="#" wicket:id="homePageLink">Simal</a> | 
  <a href="#" wicket:id="personAdminPageLink">Person Admin</a> | 
  <a href="#" wicket:id="categoryBrowserPageLink">Category Browser</a> | 
  <a href="#" wicket:id="exhibitBrowserLink">Project Browser</a> |
  <a href="#" wicket:id="addDOAPLink">DOAP Form</a> |
  <a href="http://simal.googlecode.com">Simal Developer Site</a>
</div>
<div id="content"><wicket:child /></div>
<div id="footer"><span wicket:id="footer">Footer</span></div>
</body>
</html>
