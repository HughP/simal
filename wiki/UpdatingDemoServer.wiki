#summary Instructions for updating code on the demo server.
#labels Phase-Deploy,Phase-QA

The demo server at http://simal.16degrees.com.au can be updated by anyone with the necessary priveledges (e.g. a sudo user) on the demo machine with the following steps.

= Update and Compile the Modules =

{{{
cd /home/simal
./update.sh
}}}

This will update all Simal modules from SVN, run all tests and deploy artifacts to the local Maven repository.

= Clean The Demo Data - OPTIONAL =

If you want to reset the demo data follow these steps:

On the Tools page of the demo server select "Remove all data from the repository" - be very *careful* with this, it will delete all data in the server. Only use it if you know what you are doing.

NOTE: you will need to stop the server as described in the next section before proceeding.

Now deploy the approved data using:

{{{
./deployData.sh
}}}

This will deploy all the data files we have that are known to work cleanly in the Simal repository. We need to do this because the update command we ran earlier deleted the current demo data. This is done to ensure hte demo server isn't filled up with spam entries, we periodically reset it in this way.

= Stop the currently running process =

{{{
ps aux | grep maven
}}}

Note the process ID for the currently running instance of Simal.

{{{
kill [SIMAL_PROCESS_ID]
}}}

= Run the Server =

Now we run the server again with:

{{{
./run.sh
}}}

That's it, you can log out now.