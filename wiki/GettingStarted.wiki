#summary Basic getting started instructions
#labels Featured,Phase-Support
#sidebar DeveloperTOC

This document describes how to download and run the various components of Simal. It does not describe the set-up of a development environment, this is a task left for the reader (although we do have a document describing how to [DevelopSimal set up Eclipse]).

If you have any problems you could try looking at our [FAQ] or asking questions on our [http://groups.google.com/group/simal-contributors mailing list].

= Latest Sources =

== Pre-Requisites ==

 * [http://java.sun.com/javase/downloads/previous.jsp Java JDK] 1.5+ 
 * [http://subversion.tigris.org/project_packages.html Subversion]
  * You may prefer to use a GUI to work with Subversion, such as [http://rapidsvn.tigris.org/ RapidSVN]
 * [http://maven.apache.org/download.html Apache Maven]

== Get Source Files ==

{{{
svn checkout http://simal.googlecode.com/svn/trunk/ $PROJECT_HOME/simal-trunk
}}}

where $PROJECT_HOME is your chosen project directory

NOTE: Use https rather than http if you are a committer

=== Installing ===

The installation process is not as streamlined as it should be right now. However, we are working on it and welcome your help.

==== Core ====
{{{
cd $PROJECT_HOME/simal-trunk/uk.ac.osswatch.simal.core
mvn install
}}}

==== REST ====

{{{
cd $PROJECT_HOME/simal-trunk/uk.ac.osswatch.simal.rest
mvn install
}}}

==== Web Application ====

Now you need to configure the webapp for your server. 

Create a file called {{{local.simal.properties}}} in {{{$PROJECT_HOME/simal-trunk/uk.ac.osswatch.simal.web}}} and open it in your favourite editor. This file contains the local configuation for your web application.

As a minimum you must set the following properties:

{{{
simal.user.webapp.baseurl=http://localhost:8080
simal.rest.baseurl=http://localhost:8080/simal-rest
}}}

Other configuration properties are available. See {{{$PROJECT_HOME/uk.ac.osswatch.simal.core/src/main/resources/default.simal.properties}}} for details.

== Running ==

Simal is made up of three components and therefore can be accessed in three ways. Each of these is described below in order of usefulness to the average user (or reverse order for the average developer).

Note, in all these cases the documentation is currently held in SVN, we've not got around to publishing it yet.

=== Simal Web Application ===

The Simal web module provides a web application that provides a GUI interface to a Simal repostory. 
The easiest way to run the web application is to type {{{mvn jetty:run}}} after installing the core and rest modules in your Maven repository.
It will run the application on the light-weight Jetty servlet container.

It is also possible to run the server on a different port using the property "jetty.port". For example:

{{{
mvn -Djetty.port=9999 jetty:run
}}}


The default admin username and password is {{{simal}}}, you can change this in the local.simal.properties file.

==== Debug Mode ====

To run the web application in debug mode using JDPA run the command:

{{{
export MAVEN_OPTS='-Xdebug -Xrunjdwp:transport=dt_socket,address=8000,server=y,suspend=n'
}}}

After setting this property, run "maven jetty:run" and connect your debugger to port 8000. If "suspend=y" is used, it will will block, waiting for a debug connection.


=== Simal Rest ===

Simal rest is a module providing a REST API to Simal. In its current form, the REST module is not intended to run separately from the web application. 
Therefore, in order to use the REST module, deploy the web application as described above. The [SimalRESTAPI REST documentation] explains the REST API in more detail.

=== Simal Core ===

Simal core is the back end systems. It contains the data model, data services and repository. Simal core provides a command line interface.

Simal provides a command line interface (CLI) for working with core, other interfaces are possible, such as the separate web application found in the module uk.ac.osswatch.simal.web. It is outside the scope of this document to discuss these other interfaces. However, a very brief introduction to the CLI is useful at this point since it means you can can start playing immediately.

To use the CLI you must first build a distribution with the following command.

{{{
mvn assembly:assembly
}}}

Now you can run the CLI with a command such as

{{{
        java -cp
        target/simal-core-0.1-SNAPSHOT-jar-with-dependencies.jar
        uk.ac.osswatch.simal.Simal -h
}}}

Replace {{{0.1-SNAPSHOT}}} with the current version of Simal.

= Questions? =

Documentation never answers all your questions. We welcome your questions and suggestions via our [http://groups.google.com/group/simal-contributors mailing list].